replicaCount: 1

persistence:
  enabled: true
  storageClass: "cephfs"
  accessModes:
    - ReadWriteOnce
  size: 8Gi

ingress:
  enabled: false

mariadb:
  enabled: true
  architecture: standalone
  auth:
    rootPassword: "root"
    database: bitnami_matomo
    username: bn_matomo
    password: "root"
  primary:
    persistence:
      enabled: true
      storageClass: "cephfs"
      accessModes:
        - ReadWriteOnce
      size: 8Gi
    storageClass: "cephfs"
    resourcesPreset: "micro"
    imagePullPolicy: Always
  containerSecurityContext:
    enabled: true
    fsGroup: 10000
    runAsUser: 10000
    runAsGroup: 10000

matomo:
  skipInstall: true
  containerSecurityContext:
    enabled: true
    fsGroup: 10000
    runAsUser: 10000
    runAsGroup: 10000
  persistence:
    enabled: true
    storageClass: "cephfs"
    accessModes:
      - ReadWriteOnce
    size: 8Gi
  plugins:
    - "LoginOIDC"
  domain: "matomo.etsmtl.club"
  service:
    type: ClusterIP
  imagePullPolicy: Always
  securityContext:
    allowPrivilegeEscalation: false
    runAsNonRoot: true
    readOnlyRootFilesystem: true
